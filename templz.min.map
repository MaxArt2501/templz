{"version":3,"file":"templz.min.js","sources":["templz.js"],"names":["root","factory","define","amd","exports","module","Templz","this","hasTemplates","HTMLTemplateElement","doc","document","docFragType","createDocumentFragment","nodeType","isFragment","frag","nodeName","hasBind","newFrag","bind","newText","createTextNode","txt","getFrag","temp","content","innerHTML","createElement","wrapperMap","td","th","tr","thead","tbody","tfoot","option","optgroup","tagMatch","match","wrapper","toLowerCase","firstChild","appendChild","serializeFragment","documentElement","i","children","childNodes","res","length","node","outerHTML","nodeValue","div","cloneNode","trim","string","trimRE","replace","isArray","Array","toString","object","call","Object","prototype","escapeString","map","re","c","&","<",">","\"","'","/","getTags","tags","split","getLoneSections","parsed","opened","closed","token","type","push","value","pop","Error","openSection","checkParsedText","sections","lone","section","apply","buildTree","tree","stack","parseAttributes","attribs","attributes","attr","attrset","j","indexOf","parseString","name","parseNode","nodeList","prefix","tokens","current","curText","curFrag","parsedAttributes","processText","parts","part","pushFragment","l","Token","FRAGMENT_TEMPLATE","getAttribute","removeAttribute","tagLen","last","index","endIndex","clearEmptyLines","lastCR","lastIndexOf","test","slice","strIdx","nextCR","substring","substr","charAt","indent","lookup","contextStack","renderTokens","partials","isString","STRING_TEMPLATE","subres","copyNode","t","ctxstack","copy","setAttribute","renderAttributes","context","concat","ctxStack","compile","ParsedTemplate","render","constructor","data","version","template","arguments","pt","TypeError","serialize","fragment","createFragment","html"],"mappings":"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"}